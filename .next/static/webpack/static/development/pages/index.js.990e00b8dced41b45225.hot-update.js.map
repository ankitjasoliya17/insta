{"version":3,"file":"static/webpack/static/development/pages/index.js.990e00b8dced41b45225.hot-update.js","sources":["webpack:///./pages/index.js","webpack:///./pages/instagram.js"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport FacebookLogin from 'react-facebook-login';\nimport FacebookPage from '../pages/facebookpages';\nimport Instasettings from '../pages/instasettings';\nimport Instagram from '../pages/instagram';\nimport {Frame} from '@shopify/polaris';\n// import '../css/style.css';\n// import '../css/slick.css';\n// import '../css/slick-theme.css';\n// import '../css/poststyle.css';\n// import '../js/jquery.min';\n// import '../js/slick.min';\n\n\nclass Index extends React.Component {\n\n    constructor(props) {\n\n        console.log(props);\n\n        super(props);\n        this.state = {\n            isFBLoggedIn : true,\n            userID:'',\n            name:'',\n            email:'',\n            picture:'',\n            allpages:'',\n            fbpage : false,\n            allsettings : '',\n            post_shown:false\n\n        };\n\n        this.logoutFacebook = this.logoutFacebook.bind(this);\n        this.setnewstatus = this.setnewstatus.bind(this);\n\n    }\n\n    componentDidMount(){\n\n\n        const search = window.location.search; // could be '?foo=bar'\n        const params = new URLSearchParams(search);\n        const shop_name = params.get('shop');\n        console.log(shop_name);\n        // var shopname = this.shopname();\n        // console.log('1111');\n        // console.log(shopname);\n        // console.log('2222');\n        //\n        //\n        const postdata = {\n            shop : shop_name,\n        }\n        //\n        var self= this;\n\n        axios.post('http://localhost:5000/check_login_account/',postdata)\n            .then(function (response1) {\n                console.log(response1);\n                self.changefbstatus();\n                if(response1.data==true){\n                    axios.post('http://localhost:5000/get_fb_pages/',postdata)\n                        .then(function (response) {\n                            self.changestatus(response);\n                        })\n                        .catch(function (error) {\n                            console.log(error);\n                        });\n                }\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n\n        axios.post('http://localhost:5000/get_settings/',postdata)\n            .then(function (response1) {\n                self.setnewstatus(response1.data);\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n\n\n\n        const script = document.createElement(\"script\");\n        script.src = \"../js/jquery.min.js\";\n        script.async = true;\n        document.body.appendChild(script);\n\n\n\n    }\n\n\n    setnewstatus(data){\n        this.setState({\n            allsettings : data\n        })\n    }\n\n    changefbstatus(){\n        this.setState({\n            isFBLoggedIn : true,\n        })\n    }\n\n    changestatus(response){\n        this.setState({\n            fbpage : true,\n            allpages : response.data\n        })\n    }\n\n\n    logoutFacebook(){\n        console.log('111');\n        this.setState({\n            isFBLoggedIn : false\n        })\n    }\n\n    setstatus(response) {\n        console.log(response);\n        this.setState({\n            isFBLoggedIn : true,\n            fbpage : true,\n            allpages : response.data\n        })\n    }\n\n    updateState() {\n        this.setState({ post_shown: false });\n    }\n\n\n       responseFacebook = (response) => {\n\n            if(response.data!='undefined'){\n                var self= this;\n\n                const search = window.location.search; // could be '?foo=bar'\n                const params = new URLSearchParams(search);\n                const shop_name = params.get('shop');\n\n                const postdata = {\n                    shop : shop_name,\n                    response : response\n                }\n\n                axios.post('http://localhost:5000/save_accesstoken/',postdata)\n                    .then(function (response1) {\n                        console.log(response1);\n                        const shopdata = {\n                            shop : shop_name\n                        }\n\n                        axios.post('http://localhost:5000/get_fb_pages/',shopdata)\n                            .then(function (response) {\n                                self.setstatus(response);\n                            })\n                            .catch(function (error) {\n                                console.log(error);\n                            });\n                    })\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n            }\n\n       }\n\n\n    componentClicked = () => console.log('clieked');\n\n   render() {\n\n        let fbContent;\n\n        if(this.state.isFBLoggedIn){\n            if(this.state.fbpage){\n                fbContent = (\n                    <div>\n                        <FacebookPage alldata={this.state.allpages} />\n                    </div>\n                );\n            }\n        }else{\n            fbContent = (<FacebookLogin\n                appId=\"591251971460198\"\n                autoLoad = {true}\n                fields=\"name,email,picture\"\n                scope=\"public_profile,email,manage_pages,read_insights,pages_show_list,instagram_basic\"\n                onClick={this.componentClicked}\n                callback={this.responseFacebook}\n            />);\n        }\n\n        let instasettings;\n\n        if(this.state.allsettings!=''){\n            instasettings = (\n                <Instasettings allsettings={this.state.allsettings} />\n            );\n        }\n\n        return <div className=\"ankit\">\n            <Frame>\n            {instasettings}\n            {fbContent}\n            <Instagram />\n            </Frame>\n            </div>;\n    }\n}\n\n\n\nexport default Index;\n\n","import React, { useState ,useCallback} from 'react';\nimport axios from 'axios';\nimport {Button,Badge,Modal,Stack} from '@shopify/polaris';\n\n\nfunction InstaPostList(props) {\n\n\n    const items1 = props.instapost;\n\n    const [active, setActive] = useState(true);\n\n    const handleChange = useCallback(() => setActive(!active), [active]);\n\n    const handleScrollBottom = useCallback(() => console.log('Scrolled to bottom'), []);\n\n    const pageclass = \"insta_post_model\";\n\n    return (\n        <div style={{height: '50px'}}>\n\n            <div className={pageclass}>\n                <Button onClick={handleChange} primary>Instagram Post</Button>\n            </div>\n\n            <Modal\n                large\n                open={active}\n                title=\"Instagram Post\"\n                onScrolledToBottom={handleScrollBottom}\n                onClose={handleChange}\n                className='insta_post_data'\n            >\n\n                {items1.map((value, index) => {\n\n\n                        return  <Modal.Section key={index} className='insta_post_data' oneThird>\n                            <Stack vertical oneThird distribution=\"fill\">\n                            <Badge><img alt=\"\" width=\"100%\" height=\"100%\" style={{ objectFit: 'cover', objectPosition: 'center', }} src={value.media_url} />\n                            </Badge>\n                            </Stack>\n                        </Modal.Section>\n\n                })}\n\n\n            </Modal>\n        </div>\n    );\n}\n\n\n\n    class Instagram extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            instapost : ''\n        }\n\n        this.updatedata = this.updatedata.bind(this);\n\n    }\n\n\n    componentDidMount(){\n\n        const search = window.location.search; // could be '?foo=bar'\n        const params = new URLSearchParams(search);\n        const shop_name = params.get('shop');\n\n        const postdata = {\n            shop : shop_name\n        }\n\n        const self = this;\n        axios.post('http://localhost:5000/get_insta_post/',postdata)\n            .then(function (response1) {\n              console.log(response1);\n                self.updatedata(response1.data);\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n\n\n        const script = document.createElement(\"script\");\n        script.src = \"../js/jquery.min.js\";\n        script.async = true;\n        document.body.appendChild(script);\n\n\n    }\n\n\n    updatedata(resdata){\n        console.log(resdata);\n        this.setState({\n            instapost:resdata.data\n        })\n\n\n    }\n\n\n    render() {\n\n        // if(this.state.instapost!=''){\n        //     instagrampost = (\n        //         <InstaPostList instapost={this.state.instapost} />\n        //     );\n        // }\n\n        const elements = ['one', 'two', 'three'];\n\n        const instagrampost = []\n\n\n        console.log(this.state.instapost);\n\n        if(this.state.instapost!=''){\n\n           const items1 = this.state.instapost\n\n\n            for (const [index, value] of items1.entries()) {\n\n                instagrampost.push(\n                    <a href=\"javascript:void(0);\" className=\"dm-insta-url\" onClick=\"document.getElementById('dm-0-insta-feed').style.display='block'\">\n                        <div className=\"dm-insta-img\">\n                            <img src={value.media_url} />\n                                <div className=\"dm-instafeed-overlay\">\n                                    <div className=\"dm-like-btn\">\n                                        <span><i className=\"far fa-heart\" />37</span>\n                                        <p><i className=\"fas fa-quote-right\" />2</p>\n                                    </div>\n                                </div>\n                        </div>\n                    </a>\n                )\n            }\n\n        }\n\n        return (<div className=\"instagram_image\">\n                    <div className=\"dm-insta-feed\">\n                        <div className=\"dm-container\">\n                            <h1 className=\"dm-title\">INSTAGRAM</h1>\n                                <div className=\"dm-insta-row\">\n                                    <div id=\"insta-slider\">\n                                        {instagrampost}\n                                    </div>\n                                </div>\n                            </div>\n                    </div>\n                </div>\n                );\n    }\n\n}\n\n\nexport default Instagram;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;AAEA;AAAA;AACA;AADA;AACA;AACA;AAEA;AACA;AALA;AA2HA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAFA;AAKA;AAEA;AACA;AACA;AADA;AAIA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AA5JA;AA8JA;AAAA;AACA;AA1JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAaA;AACA;AAnBA;AAqBA;AACA;;;AACA;AAGA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AACA;AAGA;AAEA;AAEA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAIA;AACA;AACA;AACA;AAIA;;;AAGA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AACA;AAFA;AAIA;;;AAGA;AACA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;;;AAEA;AACA;AAAA;AAAA;AACA;;;AA0CA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAOA;;;;AAxMA;AACA;AA4MA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5NA;AACA;AACA;AACA;AAEA;AAGA;AACA;AAJA;AAAA;AAAA;AACA;AAMA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AANA;AAYA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAMA;AACA;AAGA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AACA;AADA;AAIA;AAPA;AASA;AACA;;;AAEA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AADA;AAIA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AAGA;;;AAGA;AACA;AACA;AACA;AADA;AAKA;;;AAGA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAGA;AACA;AACA;AAEA;AACA;AAHA;AAAA;AACA;AADA;AAKA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAMA;AApBA;AAAA;AAAA;AAAA;AAAA;AAsBA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAQA;;;;AAzGA;AACA;AA6GA;;;;A","sourceRoot":""}