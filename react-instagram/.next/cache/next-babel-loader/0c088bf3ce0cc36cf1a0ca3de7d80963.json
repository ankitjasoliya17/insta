{"ast":null,"code":"var _jsxFileName = \"/Users/imac/Downloads/app/insta/pages/index.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport axios from 'axios';\nimport request from 'superagent';\nimport FacebookLogin from 'react-facebook-login';\nimport { Link } from '@shopify/polaris';\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", {\n      isFBLoggedIn: false,\n      userID: '',\n      name: '',\n      email: '',\n      picture: ''\n    });\n\n    _defineProperty(this, \"responseFacebook\", response => {\n      this.setState({\n        isFBLoggedIn: true,\n        userID: response.userID,\n        name: response.name,\n        email: response.email,\n        picture: response.picture.data.url\n      });\n    });\n\n    _defineProperty(this, \"componentClicked\", () => console.log('clieked'));\n\n    this.state = {\n      isToggleOn: true\n    }; // This binding is necessary to make `this` work in the callback\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  logoutFacebook() {\n    this.setState({\n      isFBLoggedIn: false\n    });\n  }\n\n  // async componentDidMount() {\n  // const url = \"http://localhost:5000/abcd/\";\n  // const response = await fetch(url,);\n  // const data = await response.json();\n  // console.log(data)\n  // axios.post('http://localhost:5000/abcd/', {\n  //     code: this.getUrlParameter('code')\n  // })\n  //     .then(function (response) {\n  //         console.log(response);\n  //     })\n  //     .catch(function (error) {\n  //         console.log(error);\n  //     });\n  // console.log(this.getUrlParameter('code'));\n  // fetch(\"\",this.getUrlParameter('code'))\n  //     .then(res => res.json())\n  //     .then(\n  //         (result) => {\n  //             console.log(result);\n  //         },\n  //         // Note: it's important to handle errors here\n  //         // instead of a catch() block so that we don't swallow\n  //         // exceptions from actual bugs in components.\n  //         (error) => {\n  //             console.log(error)\n  //         }\n  //     )\n  // }\n  // getUrlParameter(sParam) {\n  //     var sPageURL = window.location.search.substring(1),\n  //         sURLVariables = sPageURL.split('&'),\n  //         sParameterName,\n  //         i;\n  //\n  //     for (i = 0; i < sURLVariables.length; i++) {\n  //         sParameterName = sURLVariables[i].split('=');\n  //\n  //         if (sParameterName[0] === sParam) {\n  //             return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);\n  //         }\n  //     }\n  // };\n  render() {\n    let fbContent;\n\n    if (this.state.isFBLoggedIn) {\n      fbContent = __jsx(\"div\", {\n        style: {\n          width: '400px',\n          margin: 'auto',\n          background: '#f4f4f4',\n          padding: '20px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }\n      }, __jsx(Link, {\n        onclick: this.logoutFacebook,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }\n      }, \"Logout\"), __jsx(\"img\", {\n        src: this.state.picture,\n        alt: this.state.picture,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }\n      }), __jsx(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }\n      }, this.state.name), \"Email : \", this.state.email);\n    } else {\n      fbContent = __jsx(FacebookLogin, {\n        appId: \"591251971460198\",\n        autoLoad: true,\n        fields: \"name,email,picture\",\n        onclick: this.componentClicked,\n        callback: this.responseFacebook,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 26\n        }\n      });\n    }\n\n    return __jsx(\"div\", {\n      className: \"ankit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 16\n      }\n    }, fbContent);\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["/Users/imac/Downloads/app/insta/pages/index.js"],"names":["React","axios","request","FacebookLogin","Link","Index","Component","constructor","props","isFBLoggedIn","userID","name","email","picture","response","setState","data","url","console","log","state","isToggleOn","handleClick","bind","logoutFacebook","render","fbContent","width","margin","background","padding","componentClicked","responseFacebook"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport request from 'superagent'\nimport FacebookLogin from 'react-facebook-login';\nimport {Link} from '@shopify/polaris';\n\nclass Index extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {isToggleOn: true};\n\n        // This binding is necessary to make `this` work in the callback\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n\n    state = {\n        isFBLoggedIn : false,\n        userID:'',\n        name:'',\n        email:'',\n        picture:'',\n    }\n\n\n    logoutFacebook(){\n\n        this.setState({\n            isFBLoggedIn : false\n        })\n    }\n\n    responseFacebook = (response) => {\n        this.setState({\n            isFBLoggedIn : true,\n            userID:response.userID,\n            name:response.name,\n            email:response.email,\n            picture:response.picture.data.url,\n        });\n\n    }\n\n\n\n    componentClicked = () => console.log('clieked');\n\n    // async componentDidMount() {\n\n        // const url = \"http://localhost:5000/abcd/\";\n        // const response = await fetch(url,);\n        // const data = await response.json();\n        // console.log(data)\n\n\n        // axios.post('http://localhost:5000/abcd/', {\n        //     code: this.getUrlParameter('code')\n        // })\n        //     .then(function (response) {\n        //         console.log(response);\n        //     })\n        //     .catch(function (error) {\n        //         console.log(error);\n        //     });\n\n        // console.log(this.getUrlParameter('code'));\n        // fetch(\"\",this.getUrlParameter('code'))\n        //     .then(res => res.json())\n        //     .then(\n        //         (result) => {\n        //             console.log(result);\n        //         },\n        //         // Note: it's important to handle errors here\n        //         // instead of a catch() block so that we don't swallow\n        //         // exceptions from actual bugs in components.\n        //         (error) => {\n        //             console.log(error)\n        //         }\n        //     )\n\n    // }\n\n    // getUrlParameter(sParam) {\n    //     var sPageURL = window.location.search.substring(1),\n    //         sURLVariables = sPageURL.split('&'),\n    //         sParameterName,\n    //         i;\n    //\n    //     for (i = 0; i < sURLVariables.length; i++) {\n    //         sParameterName = sURLVariables[i].split('=');\n    //\n    //         if (sParameterName[0] === sParam) {\n    //             return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);\n    //         }\n    //     }\n    // };\n\n\n\n\n\n    render() {\n\n        let fbContent;\n\n        if(this.state.isFBLoggedIn){\n            fbContent = (\n                <div style={{width:'400px',margin:'auto',background:'#f4f4f4',padding:'20px'}}>\n                    <Link onclick={this.logoutFacebook}>Logout</Link>\n                    <img src={this.state.picture} alt={this.state.picture} />\n                    <h2>{this.state.name}</h2>\n                    Email : {this.state.email}\n                </div>\n            );\n        }else{\n            fbContent = (<FacebookLogin\n                appId=\"591251971460198\"\n                autoLoad = {true}\n                fields=\"name,email,picture\"\n                onclick={this.componentClicked}\n                callback={this.responseFacebook}\n            />);\n        }\n\n        return <div className=\"ankit\">{fbContent}</div>;\n    }\n}\n\n\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}