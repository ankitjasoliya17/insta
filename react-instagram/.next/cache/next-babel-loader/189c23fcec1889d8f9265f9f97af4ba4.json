{"ast":null,"code":"var _jsxFileName = \"/Users/imac/Downloads/app/insta/pages/index.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport axios from 'axios';\nimport request from 'superagent';\nimport FacebookLogin from 'react-facebook-login';\nimport { Link } from '@shopify/polaris';\nimport FacebookPage from '../pages/facebookpages';\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"responseFacebook\", response => {\n      axios.post('http://localhost:5000/abcd/', response).then(function (response1) {\n        // var result1 = JSON.stringify(response1);\n        // console.log(response1);\n        console.log('1111');\n        console.log(this.state); // this.props.setState({\n        //     allpages:true,\n        //     isFBLoggedIn : true,\n        //     userID:response.userID,\n        //     name:response.name,\n        //     email:response.email,\n        //     picture:response.picture.data.url,\n        // });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    });\n\n    _defineProperty(this, \"componentClicked\", () => console.log('clieked'));\n\n    this.state = {\n      isFBLoggedIn: false,\n      userID: '',\n      name: '',\n      email: '',\n      picture: '',\n      allpages: ''\n    }; // This binding is necessary to make `this` work in the callback\n\n    this.logoutFacebook = this.logoutFacebook.bind(this);\n    this.responseFacebook = this.responseFacebook.bind(this);\n  }\n\n  logoutFacebook() {\n    console.log('111');\n    this.setState({\n      isFBLoggedIn: false\n    });\n  }\n\n  // async componentDidMount() {\n  // const url = \"http://localhost:5000/abcd/\";\n  // const response = await fetch(url,);\n  // const data = await response.json();\n  // console.log(data)\n  // axios.post('http://localhost:5000/abcd/', {\n  //     code: this.getUrlParameter('code')\n  // })\n  //     .then(function (response) {\n  //         console.log(response);\n  //     })\n  //     .catch(function (error) {\n  //         console.log(error);\n  //     });\n  // console.log(this.getUrlParameter('code'));\n  // fetch(\"\",this.getUrlParameter('code'))\n  //     .then(res => res.json())\n  //     .then(\n  //         (result) => {\n  //             console.log(result);\n  //         },\n  //         // Note: it's important to handle errors here\n  //         // instead of a catch() block so that we don't swallow\n  //         // exceptions from actual bugs in components.\n  //         (error) => {\n  //             console.log(error)\n  //         }\n  //     )\n  // }\n  // getUrlParameter(sParam) {\n  //     var sPageURL = window.location.search.substring(1),\n  //         sURLVariables = sPageURL.split('&'),\n  //         sParameterName,\n  //         i;\n  //\n  //     for (i = 0; i < sURLVariables.length; i++) {\n  //         sParameterName = sURLVariables[i].split('=');\n  //\n  //         if (sParameterName[0] === sParam) {\n  //             return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);\n  //         }\n  //     }\n  // };\n  render() {\n    let fbContent;\n\n    if (this.state.isFBLoggedIn) {\n      fbContent = __jsx(\"div\", {\n        style: {\n          width: '400px',\n          margin: 'auto',\n          background: '#f4f4f4',\n          padding: '20px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }\n      }, __jsx(Link, {\n        onClick: this.logoutFacebook,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }\n      }, \"Logout\"), __jsx(\"img\", {\n        src: this.state.picture,\n        alt: this.state.picture,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }\n      }), __jsx(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }\n      }, this.state.name), \"Email : \", this.state.email, __jsx(FacebookPage, {\n        alldata: this.state.allpages,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }\n      }));\n    } else {\n      fbContent = __jsx(FacebookLogin, {\n        appId: \"591251971460198\",\n        autoLoad: true,\n        fields: \"name,email,picture\",\n        onClick: this.componentClicked,\n        callback: this.responseFacebook,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 26\n        }\n      });\n    }\n\n    return __jsx(\"div\", {\n      className: \"ankit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 16\n      }\n    }, fbContent);\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["/Users/imac/Downloads/app/insta/pages/index.js"],"names":["React","axios","request","FacebookLogin","Link","FacebookPage","Index","Component","constructor","props","response","post","then","response1","console","log","state","catch","error","isFBLoggedIn","userID","name","email","picture","allpages","logoutFacebook","bind","responseFacebook","setState","render","fbContent","width","margin","background","padding","componentClicked"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport request from 'superagent'\nimport FacebookLogin from 'react-facebook-login';\nimport {Link} from '@shopify/polaris';\nimport FacebookPage from '../pages/facebookpages';\n\nclass Index extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            isFBLoggedIn : false,\n            userID:'',\n            name:'',\n            email:'',\n            picture:'',\n            allpages:''\n        };\n\n        // This binding is necessary to make `this` work in the callback\n        this.logoutFacebook = this.logoutFacebook.bind(this);\n        this.responseFacebook = this.responseFacebook.bind(this);\n\n    }\n\n\n\n    logoutFacebook(){\n        console.log('111');\n        this.setState({\n            isFBLoggedIn : false\n        })\n    }\n\n\n       responseFacebook = (response) => {\n\n           axios.post('http://localhost:5000/abcd/',response)\n               .then(function (response1) {\n                   // var result1 = JSON.stringify(response1);\n                   // console.log(response1);\n                   console.log('1111');\n                    console.log(this.state)\n                   // this.props.setState({\n                   //     allpages:true,\n                   //     isFBLoggedIn : true,\n                   //     userID:response.userID,\n                   //     name:response.name,\n                   //     email:response.email,\n                   //     picture:response.picture.data.url,\n                   // });\n\n               })\n               .catch(function (error) {\n                   console.log(error);\n               });\n\n       }\n\n\n\n\n    componentClicked = () => console.log('clieked');\n\n    // async componentDidMount() {\n\n        // const url = \"http://localhost:5000/abcd/\";\n        // const response = await fetch(url,);\n        // const data = await response.json();\n        // console.log(data)\n\n\n        // axios.post('http://localhost:5000/abcd/', {\n        //     code: this.getUrlParameter('code')\n        // })\n        //     .then(function (response) {\n        //         console.log(response);\n        //     })\n        //     .catch(function (error) {\n        //         console.log(error);\n        //     });\n\n        // console.log(this.getUrlParameter('code'));\n        // fetch(\"\",this.getUrlParameter('code'))\n        //     .then(res => res.json())\n        //     .then(\n        //         (result) => {\n        //             console.log(result);\n        //         },\n        //         // Note: it's important to handle errors here\n        //         // instead of a catch() block so that we don't swallow\n        //         // exceptions from actual bugs in components.\n        //         (error) => {\n        //             console.log(error)\n        //         }\n        //     )\n\n    // }\n\n    // getUrlParameter(sParam) {\n    //     var sPageURL = window.location.search.substring(1),\n    //         sURLVariables = sPageURL.split('&'),\n    //         sParameterName,\n    //         i;\n    //\n    //     for (i = 0; i < sURLVariables.length; i++) {\n    //         sParameterName = sURLVariables[i].split('=');\n    //\n    //         if (sParameterName[0] === sParam) {\n    //             return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);\n    //         }\n    //     }\n    // };\n\n\n\n\n\n    render() {\n\n        let fbContent;\n\n        if(this.state.isFBLoggedIn){\n            fbContent = (\n                <div style={{width:'400px',margin:'auto',background:'#f4f4f4',padding:'20px'}}>\n                    <Link onClick={this.logoutFacebook}>Logout</Link>\n                    <img src={this.state.picture} alt={this.state.picture} />\n                    <h2>{this.state.name}</h2>\n                    Email : {this.state.email}\n\n                    <FacebookPage alldata={this.state.allpages} />\n                </div>\n            );\n        }else{\n            fbContent = (<FacebookLogin\n                appId=\"591251971460198\"\n                autoLoad = {true}\n                fields=\"name,email,picture\"\n                onClick={this.componentClicked}\n                callback={this.responseFacebook}\n            />);\n        }\n\n        return <div className=\"ankit\">{fbContent}</div>;\n    }\n}\n\n\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}